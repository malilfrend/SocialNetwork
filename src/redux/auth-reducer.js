import {authAPI} from "../api/api";const SET_USER_DATA = 'social_network/auth/SET_USER_DATA'const LOG_OUT = 'social_network/auth/LOG_OUT'let initialState = {	id: null,	login: null,	email: null,	isAuth: false,	isFetching: false,}const authReducer = (state = initialState, action) => {	switch (action.type) {		case SET_USER_DATA:			return {				...state,				...action.data,				isAuth: true			}		case LOG_OUT:			return {				...state,				...initialState			}		default:			return state	}}// actionCreatorconst setAuthUserData = (id, email, login ) => {	return {		type: SET_USER_DATA,		data: {			id,			email,			login,		}	}}const logoutAC = () => {	return {		type: LOG_OUT	}}// thunk creatorconst setAuthData = () => async (dispatch) => {	let data = await authAPI.authMe()	if (data.resultCode === 0) {		let {id, email, login} = data.data		dispatch(setAuthUserData(id, email, login))	}}const login = (email, password, rememberMe, setStatus, setSubmitting) => async (dispatch) => {	let data = await authAPI.login(email, password, rememberMe)	if (data.resultCode === 0) {		dispatch(setAuthData())	}	if (data.resultCode === 1) {		setStatus(data.messages)	}	setSubmitting(false)}const logout = () => async (dispatch) => {	let data = await authAPI.logout()	if (data.resultCode === 0) {		dispatch(logoutAC())	}}export {authReducer, setAuthUserData, setAuthData, login, logout}